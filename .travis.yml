sudo: false
language: python
python:
  - '2.7'
  - '3.3'
  - '3.4'

env:
  global:
  - secure: owKVmf6A3P1hNelKq8d/CdFmSb2E6p1rdvTZ8K9QKHMeqW2qjMS/qXXohfZhlCtlDtAN8LJBAtPAwRLMtGpPZelyVB2f+yiG6cJOqm3kdUSu2jKD2cHoYP5+OgFL4NDzLqEsEpIX/tiCFphuv8Fg6IpjK7u+pquUuro55zfctkl9iserYzof1P1nWkJLGN5UeVVB8ESeJ7HPWUpfFbDSoQrjDshVEsslUwjuxeHfxVdMFg+IXCHYsOyYqt2IKdrsCgIvdHRGHSj2G3LcjjdaA5KxBUhdAE702zjbX7qWXzrSXhah5PjI8F+ta04qWDC4APeHh7yj8jPWNU5a2+kw+IfGphXDnqrKzuAsR+jtSW1OLdI7FidH+gUlAvCUIQqOUUxc15BaukYxNskfTgd3V4dA1xMZgddasVF+uvq7FUm8Y/L14Q/AiqV4N0oOeTSWqLHJoR8JuOWduOfehB9JkmIqkie1ees5XsFdl4qXvu9+U0eAr3WiFBQeVBP15tWUTWeRs9TuvRsOMRc1GftcpAy48NZBwkxwn61OHo0NrbE+aj6mVfZXCoeoAV+lMnvskThg4tdJAga/NmoCxcdDT6CKdLsUsEPMeE6YBIek6S6Q0SI+zpQTE9rVezrHQNYzshcPzwz6RbrFhmXbO5kIc3LB76wuHT8cqgxrMIDcVcM=
  - secure: kUYs7z5NZsEH8wyUfxmw4sFx7Ql+g+unbxeB0KK9vl2Gvg4cBXafseYHZ37j12QOLa6t4ulsok6cFAy0aeKw3CooTl1Xp3KMP1Q7Tidq+ERmQMQABMLuCjpHKgzhdWRtN1QSKcyntPRAR2ihiuj1lhGeY38eihpSlsrnjCTwGD/6Uh95y7aKu9+C0GhFFveUrUjB8ZnJP+mr+2mHe/uKXLS4AYJVP0NIaqqnP7pw0ZA8MMmolnYjGuWRpgfjTnU3eLAzy0/nyuUBtR9zq3BstXrENu7OesoQ9UeD2LZ7jceUC+SOpZFQYKsNHrsP12uJA4RXXPHWqyYVDaOCOkUDT3hKWGGyIT0/cjLMJuuCMMBeX9xkPFxmp32XQNRfW1RKMgntQbua9TBdXoPKjl6sDRzZo5i0qUDtz6b8gL8o8KmoTL8swgHtNH+n8HGO2MeZ8NL2QcFwAm33TLaDUskBxeuh+q+xDpYPo40XLmwckN1sT44igoQk7u3RTYcMHmspGPdS8zKXsFVkBHKA2wybp1nNGXfNItoLkH9vrkUMpywoRlGUpLYAGgLaD0O9KPYIBhLT4cm0jTAAekzhATjM3eyBcpcaOlu7uD3YI5bL2YPWfBIpC631sM8a3ebwqbumX4GrgxCA1kEY7WrVM3Hta/8Gp9AvkEzE/FitJL1ZWds=
  - secure: IxkeAp9AVlpnMI5rzkhq/3/FJqWVRldqciQYRUJtRI2XD0H1Xy1kQ1Eace8u6AlORDD6DFvJg2xhayi6CqKe10Nabd69yyz6v7QI/OiZzZ8Pt+Latdwh1lPMypevKUcgiFsBoZgL8fxcYqkMjhqHZz4uuLk1DzhmOaTfPA02IRpGYUsEywd8kN7LCj6aRsWGxtfyjkRsk1w6smGtqLtUXpdAva5Hvzkf2gFeSw935qzA7jUOvVECLpR+E1QYscaB4dNKRattsbLDSJkr/2aLUzb3lowPo6IEEZH05xh2z9n72y7Ts+KWFMIkJqA/XQYwErJ+WM9slzXJaDyWSF4yI5aPVvn3+RqMNlblB/h4YRg5vyzhERPCa3v9OKSw8VcftX9YUrXlt1w0Oi82wxdWTHB035Udp19KuxX1ViozlDccjaFRg83OySmZmUioRyDF10Ljj6ly/SHxpwAY+uQeHoWu+EhkQS0+hgOm4ZElruIy9i8mYVd8UE12p/JwFVVQT1Ett8JMdMqaFem8vhlUtOfluGR8UWxx/RpgNUYXQaxRReS+YNROHpjUrtWfFL+72B0FO7IXWK2N8ACM/nqhwcgdlqJ/djgjkvMB3IkKeIWg+9vvR+GNp4bb/d6VfYkFfxO3Ho71r0zBQWS2JBKODsSFK48cVG5LQTOw2ql8xE8=
  - secure: hABEjuAWWxg5sOEtvQuhdQVGkhaFbfT6NWSJkATFHJHUiGP7De7y9Gba4dDG/slgeGswtBshksHwn50Pe9KJbB4irIzbI/N6Q6UMQW2aMm/Jc9pFYZSU0WSGmBHKMkVQe2LvrAnch7QkHotV5vSV9ZRmrIF23b0lm4h7RoNIR9CPiP4qyUxZqf86lwg4/igdWigvxTbic7lPP2eNM9dIYflyDYIv9fzcZD2p+EAgtr+sKHtsTHzsywUGRtQkAW+J3vk4SX71HGQvbqAnTquGxMKOZM4QJuEzitwIqZohDdaU95i99ej5zgQLCGzFwarldeJo65hnKmN3OQFo9gcxpoASZ3Fy8Qie6PUwyOwyKXYUXZ3V6P+Y4PXDtk6335TlYaCviukWN0pzibOYRgYWV3x/OeAeE6QstDnO8PlarRqzGlSLW4e0wPrxCwqBKNHuDzgzWOXCOjAB1N3Z/tXTUOQPqNvsMMrD1xQh2gfuXUDND86rKpbPfbyz6GIUItc+9ilhIKNR+HtiHD28/e7taiA6LCJVJ8W7iOEpO/Im/LZpBAOpN0cUKCscnC+NR2Z2u8f85Gv2huXBwYQlml0BNW6RcQ+cAoe0K5Fr0ja+unVQDdN9uBcyLnsWn854pf3oT7JNHBHRRBFyxCMPwWHeObxnlmzfVYQVFvChN/F74sE=

install:
  - pip install -r requirements.txt -r test-requirements.txt

script:
  - nosetests

after_success:
  - if [ -n "${TRAVIS_TAG}" ]; then python setup.py sdist; pip install s3pypi; s3pypi --region "${AWS_REGION}" --bucket "${AWS_S3_BUCKET}"; fi

notifications:
  email: false
